import{b as O}from"./chunk-IIJMOUFU.js";import{b as M}from"./chunk-CSPMMYWL.js";import{c as D,i as R,j as q,k as L,l as W,m as $,n as K,o as Q,p as U,q as X,r as Y,s as Z}from"./chunk-HMYZHK7U.js";import{A as B,m as y,t as G,w as j}from"./chunk-RBVCNQAQ.js";import{a as w,b as E}from"./chunk-GA6V6OYI.js";import{a as H,b as J}from"./chunk-LYZPJWBT.js";import{b as S}from"./chunk-PRUUXTR4.js";import{a as P,b as T,d as I,e as N,f as k,h,i as A,j as V,l as F,m as z}from"./chunk-HJSULSH5.js";import"./chunk-KZHHKTWQ.js";import{Ib as n,Ra as a,Va as _,ab as b,eb as f,kc as v,lb as m,oc as C,pb as i,qb as e,rb as p,sa as u,ta as g,vb as x,xb as s,yb as d}from"./chunk-S7UR2NB3.js";function et(r,l){r&1&&(i(0,"mat-error"),n(1,"Valid mobile number required"),e())}function it(r,l){if(r&1){let t=x();i(0,"div",16)(1,"div")(2,"mat-form-field",17)(3,"mat-label"),n(4,"Mobile"),e(),p(5,"input",18),f(6,et,2,0,"mat-error",19),e()(),i(7,"div",20)(8,"button",6),s("click",function(){u(t);let c=d();return g(c.sendOtp())}),n(9,"Send OTP"),e()()()}if(r&2){let t,o=d();a(6),m("ngIf",(t=o.loginform.get("mobileNumber"))==null?null:t.invalid)}}function nt(r,l){r&1&&(i(0,"mat-error"),n(1,"Enter a valid OTP"),e())}function ot(r,l){if(r&1){let t=x();i(0,"div",16)(1,"div")(2,"mat-form-field",17)(3,"mat-label"),n(4,"OTP"),e(),p(5,"input",21),f(6,nt,2,0,"mat-error",19),e()(),i(7,"div",20)(8,"button",6),s("click",function(){u(t);let c=d();return g(c.verifyOtp())}),n(9,"Login"),e()()()}if(r&2){let t,o=d();a(6),m("ngIf",(t=o.loginform.get("otp"))==null?null:t.invalid)}}var tt=class r{constructor(l,t){this.store=l;this.router=t;this.existotpverify$=this.store.select(D)}islogin=!1;isOtpSent=!1;mobileNumber="";existotpverify$;loginform=new k({mobileNumber:new h("",[T.required]),otp:new h("")});register(){this.router.navigate(["/register"])}otpsend(){this.islogin=!0}sendOtp(){let l=this.loginform.get("mobileNumber")?.value??"";this.store.dispatch(G({mobile:l})),this.isOtpSent=!0}verifyOtp(){let l=this.loginform.get("mobileNumber")?.value??"",t=this.loginform.get("otp")?.value??"";!t||t.length!==4||(this.store.dispatch(j({request:{mobile:l,otp:t}})),this.existotpverify$.subscribe(o=>{o&&(this.router.navigate(["/layout/logs"]),this.store.dispatch(B()))}))}static \u0275fac=function(t){return new(t||r)(_(y),_(M))};static \u0275cmp=b({type:r,selectors:[["app-auth"]],decls:36,vars:3,consts:[[1,"content"],[1,"align-items-center","first"],[1,"align-items-center"],[1,"ml-5","login-content"],[1,"login-content1"],[1,"ml-6"],["mat-flat-button","","color","primary",3,"click"],[1,"mt-3"],[3,"formGroup"],["class","d-flex flex-col gap-3",4,"ngIf"],[1,"mt-5"],[1,"ml-4","account"],[1,"cursor-pointer","text-underline","link",3,"click"],[1,"card"],[1,"card-content"],[1,"highlight"],[1,"d-flex","flex-col","gap-3"],["appearance","outline"],["matInput","","formControlName","mobileNumber","placeholder","Enter the mobile number"],[4,"ngIf"],[1,"mt-2"],["matInput","","formControlName","otp","placeholder","Enter OTP"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),n(4,"Welcome Back!"),e(),i(5,"p",4),n(6,"Start Managing your finance better and faster"),e()(),i(7,"div",5)(8,"button",6),s("click",function(){return o.otpsend()}),n(9,"Login with otp"),e()(),i(10,"div",7)(11,"form",8),f(12,it,10,1,"div",9)(13,ot,10,1,"div",9),e()(),i(14,"div",10)(15,"p",11),n(16,"Doesn't have an account? "),i(17,"a",12),s("click",function(){return o.register()}),n(18,"Register Here"),e()()()(),i(19,"div")(20,"mat-card",13)(21,"mat-card-header")(22,"mat-card-title"),n(23,"Tally Plugin By MSG91"),e()(),i(24,"mat-card-content")(25,"p",14),n(26,"Send Invoices on Whatsapp and Email "),p(27,"br"),n(28," Via Tally"),e(),p(29,"mat-divider"),i(30,"p",15),n(31,"Automate your financial processes effortlessly with Tally. "),e(),i(32,"p"),n(33,"Streamline invoicing, effortlessly share ledgers, and efficiently recover"),e(),i(34,"p"),n(35," outstanding amounts, all within the Tally platform."),e()()()()()),t&2&&(a(11),m("formGroup",o.loginform),a(),m("ngIf",o.islogin),a(),m("ngIf",o.isOtpSent))},dependencies:[C,v,O,$,R,L,W,q,E,w,X,U,K,Q,J,H,Z,Y,S,z,A,P,I,N,V,F],styles:[".content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;box-sizing:border-box;background-color:#f5f5f5}.login-left[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;font-size:1.5rem;font-weight:700;padding:20px;margin-bottom:25%}.login-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:10px}.card[_ngcontent-%COMP%]{height:700px;width:600px;padding:20px;background:#fff;box-shadow:0 4px 10px #0000001a;border-radius:10px}.first[_ngcontent-%COMP%]{margin-left:300px}.login-content[_ngcontent-%COMP%]{font-weight:700;font-size:xx-large}.login-content1[_ngcontent-%COMP%]{font-size:large;font-weight:500}.account[_ngcontent-%COMP%]{font-size:medium;font-weight:600}.link[_ngcontent-%COMP%]{color:#1b69a7}.mat-mdc-card-title[_ngcontent-%COMP%]{font-weight:400;font-size:35px}.highlight[_ngcontent-%COMP%]{font-size:30px;font-weight:500}.card-content[_ngcontent-%COMP%]{font-weight:700;font-size:15px}@media (max-width: 768px){.content[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.login-left[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{width:90%;text-align:center}}"]})};export{tt as AuthComponent};
