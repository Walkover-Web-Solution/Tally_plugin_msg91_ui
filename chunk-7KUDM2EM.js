import{ea as l,ia as c,na as g,vc as n,wc as h,xc as y}from"./chunk-W5V45PS6.js";var u=class r{constructor(t){this.http=t}otpUrl="https://routes.msg91.com/api/117230g173934031967ac3a1f486b4/otp/send";verifyurl="https://routes.msg91.com/api/117230g173934031967ac3a1f486b4/otp/verify";registerUrl="https://routes.msg91.com/api/clientUsers?action=login";walletUrl="https://routes.msg91.com/api/proxy/117230/37kxrfv2/walletBalance";rechargeWalletUrl="https://routes.msg91.com/api/proxy/117230/37kxrfv2/rechargeWallet";existingurl="https://routes.msg91.com/api/117230g173934031967ac3a1f486b4/otp/verify?action=login";getLogs="https://routes.msg91.com/api/c/proxyLogs";getLogsById="https://apitest.msg91.com/api/c/proxyLogDetails/:id";getUserDetails="https://routes.msg91.com/api/c/getDetails";getAllCampaignFlow="https://control.msg91.com/api/v5/campaign/api/campaigns";getCampaignFields="https://control.msg91.com/api/v5/campaign/api/campaigns/:slug/fields";getProxyLogs(t){let e=new h({fromObject:t||{}});return this.http.get(this.getLogs,{params:e})}getProxyLogsById(t){let e=this.getLogsById.replace(":id",t);return this.http.get(e)}sendOtp(t){let e=new n({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),s={mobile:t};return this.http.post(this.otpUrl,s,{headers:e})}verfiyOtp(t,e){let s=new n({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),a={mobile:t,otp:e};return this.http.post(this.verifyurl,a,{headers:s})}existinguser(t,e){let s=new n({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),i={mobile:t.startsWith("+")?t.slice(1):t,otp:e};return this.http.post(this.existingurl,i,{headers:s}).pipe(l(p=>{let o=p?.data?.proxy_auth_token;o&&(localStorage.setItem("proxy_auth_token",o),sessionStorage.setItem("proxy_auth_token",o))}))}registerUser(t,e,s){let a=new n({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),i={name:t,email:e,mobile:s,feature_id:"117230g173934031967ac3a1f486b4"};return this.http.post(this.registerUrl,i,{headers:a}).pipe(l(p=>{let o=p?.data?.proxy_auth_token;o&&(localStorage.setItem("proxy_auth_token",o),sessionStorage.setItem("proxy_auth_token",o))}))}getWalletBalance(){let t=this.getAuthToken(),e=new n({"Content-Type":"application/json",proxy_auth_token:t});return this.http.get(this.walletUrl,{headers:e})}rechargeWallet(t){let e=this.getAuthToken(),s=new n({"Content-Type":"application/json",proxy_auth_token:e}),a={amount:t};return this.http.post(this.rechargeWalletUrl,a,{headers:s})}getUserDetailsData(){let t=this.getAuthToken(),e=new n({"Content-Type":"application/json",proxy_auth_token:t});return this.http.get(this.getUserDetails,{headers:e})}getAllCampaignFlowFromApi(t,e){let s=new n({"Content-Type":"application/json",authkey:e});return this.http.get(this.getAllCampaignFlow,{headers:s,params:t})}getCampaignAllFields(t,e){let s=new n({"Content-Type":"application/json",authkey:e}),a=t.sync!==void 0?{sync:t.sync}:void 0;return this.http.get(this.getCampaignFields.replace(":slug",t.slug),{headers:s,params:a})}getAuthToken(){return typeof window<"u"&&(sessionStorage.getItem("proxy_auth_token")||localStorage.getItem("proxy_auth_token"))||null}static \u0275fac=function(e){return new(e||r)(g(y))};static \u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"})};export{u as a};
