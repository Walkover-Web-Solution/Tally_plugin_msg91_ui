import{ea as r,ia as c,na as g,vc as o,wc as h,xc as u}from"./chunk-W5V45PS6.js";var y=class i{constructor(t){this.http=t}otpUrl="https://routes.msg91.com/api/117230g173934031967ac3a1f486b4/otp/send";verifyurl="https://routes.msg91.com/api/117230g173934031967ac3a1f486b4/otp/verify";registerUrl="https://routes.msg91.com/api/clientUsers?action=login";walletUrl="https://routes.msg91.com/api/proxy/117230/37kxrfv2/walletBalance";rechargeWalletUrl="https://routes.msg91.com/api/proxy/117230/37kxrfv2/rechargeWallet";existingurl="https://routes.msg91.com/api/117230g173934031967ac3a1f486b4/otp/verify?action=login";getLogs="https://routes.msg91.com/api/c/proxyLogs";getLogsById="https://apitest.msg91.com/api/c/proxyLogDetails/:id";getUserDetails="https://routes.msg91.com/api/c/getDetails";getAllCampaignFlow="https://test.msg91.com/api/v5/campaign/api/campaigns";getCampaignFields="https://test.msg91.com/api/v5/campaign/api/campaigns/:slug/fields";logout="https://routes.msg91.com/api/c/logout";getProxyLogs(t){let e=new h({fromObject:t||{}});return this.http.get(this.getLogs,{params:e})}getProxyLogsById(t){let e=this.getLogsById.replace(":id",t);return this.http.get(e)}sendOtp(t){let e=new o({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),s={mobile:t};return this.http.post(this.otpUrl,s,{headers:e})}verfiyOtp(t,e){let s=new o({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),n={mobile:t,otp:e};return this.http.post(this.verifyurl,n,{headers:s})}existinguser(t,e){let s=new o({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),p={mobile:t.startsWith("+")?t.slice(1):t,otp:e};return this.http.post(this.existingurl,p,{headers:s}).pipe(r(l=>{let a=l?.data?.proxy_auth_token;a&&(localStorage.setItem("proxy_auth_token",a),sessionStorage.setItem("proxy_auth_token",a))}))}registerUser(t,e,s){let n=new o({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),p={name:t,email:e,mobile:s,feature_id:"117230g173934031967ac3a1f486b4"};return this.http.post(this.registerUrl,p,{headers:n}).pipe(r(l=>{let a=l?.data?.proxy_auth_token;a&&(localStorage.setItem("proxy_auth_token",a),sessionStorage.setItem("proxy_auth_token",a))}))}getWalletBalance(){let t=this.getAuthToken(),e=new o({"Content-Type":"application/json",proxy_auth_token:t});return this.http.get(this.walletUrl,{headers:e})}rechargeWallet(t){let e=this.getAuthToken(),s=new o({"Content-Type":"application/json",proxy_auth_token:e}),n={amount:t};return this.http.post(this.rechargeWalletUrl,n,{headers:s})}getUserDetailsData(){let t=this.getAuthToken(),e=new o({"Content-Type":"application/json",proxy_auth_token:t});return this.http.get(this.getUserDetails,{headers:e})}getAllCampaignFlowFromApi(t,e){let s=new o({"Content-Type":"application/json",authkey:e});return this.http.get(this.getAllCampaignFlow,{headers:s,params:t})}getCampaignAllFields(t,e){let s=new o({"Content-Type":"application/json",authkey:e}),n=t.sync!==void 0?{sync:t.sync}:void 0;return this.http.get(this.getCampaignFields.replace(":slug",t.slug),{headers:s,params:n})}logoutuser(){let t=this.getAuthToken(),e=new o({"Content-Type":"application/json",proxy_auth_token:t});return this.http.delete(this.logout,{headers:e}).pipe(r(()=>{localStorage.removeItem("proxy_auth_token"),sessionStorage.removeItem("proxy_auth_token")}))}getAuthToken(){return typeof window<"u"&&(sessionStorage.getItem("proxy_auth_token")||localStorage.getItem("proxy_auth_token"))||null}static \u0275fac=function(e){return new(e||i)(g(u))};static \u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"})};export{y as a};
