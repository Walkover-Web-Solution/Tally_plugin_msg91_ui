import{aa as c,ea as l,ja as h,rc as o,sc as y,tc as g}from"./chunk-S7UR2NB3.js";var u=class s{constructor(t){this.http=t}logsUrl="https://apitest.msg91.com/api/proxyLogs";otpUrl="https://routes.msg91.com/api/117230g173934031967ac3a1f486b4/otp/send";verifyurl="https://routes.msg91.com/api/117230g173934031967ac3a1f486b4/otp/verify";registerUrl="https://routes.msg91.com/api/clientUsers?action=login";walletUrl="https://routes.msg91.com/api/proxy/117230/37kxrfv2/walletBalance";rechargeWalletUrl="https://routes.msg91.com/api/proxy/117230/37kxrfv2/rechargeWallet";existingurl="https://routes.msg91.com/api/117230g173934031967ac3a1f486b4/otp/verify?action=login";getProxyLogs(t){let e=new y({fromObject:t||{}}),r=new o({Authorization:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyIjp7ImlkIjo2NywiZW1haWwiOiJhbGlhc2dhckB3aG96emF0LmNvbSIsImNyZWF0ZWRfYXQiOiIyMDI1LTAzLTAzVDA0OjA1OjEwLjAwMDAwMFoifX0.G34ZrQKaPX4v-tvOVqiRBPZQTEiLPe8Apqs1UdPhooI"});return this.http.get(this.logsUrl,{params:e,headers:r})}sendOtp(t){let e=new o({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),r={mobile:t};return this.http.post(this.otpUrl,r,{headers:e})}verfiyOtp(t,e){let r=new o({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),a={mobile:t,otp:e};return this.http.post(this.verifyurl,a,{headers:r})}existinguser(t,e){let r=new o({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),a={mobile:t,otp:e};return this.http.post(this.existingurl,a,{headers:r}).pipe(c(i=>{let n=i?.data?.proxy_auth_token;n&&(localStorage.setItem("proxy_auth_token",n),sessionStorage.setItem("proxy_auth_token",n))}))}registerUser(t,e,r){let a=new o({"Content-Type":"application/json",authkey:"dbc2b79e90d5ee493948fcf6556c2c9a"}),i={name:t,email:e,mobile:r,feature_id:"117230g173934031967ac3a1f486b4"};return this.http.post(this.registerUrl,i,{headers:a}).pipe(c(n=>{let p=n?.data?.proxy_auth_token;p&&(localStorage.setItem("proxy_auth_token",p),sessionStorage.setItem("proxy_auth_token",p))}))}getWalletBalance(){let t=this.getAuthToken(),e=new o({"Content-Type":"application/json",proxy_auth_token:t});return this.http.get(this.walletUrl,{headers:e}).pipe()}rechargeWallet(t){let e=this.getAuthToken(),r=new o({"Content-Type":"application/json",proxy_auth_token:e}),a={amount:t};return this.http.post(this.rechargeWalletUrl,a,{headers:r})}getAuthToken(){return typeof window<"u"&&(sessionStorage.getItem("proxy_auth_token")||localStorage.getItem("proxy_auth_token"))||null}static \u0275fac=function(e){return new(e||s)(h(g))};static \u0275prov=l({token:s,factory:s.\u0275fac,providedIn:"root"})};export{u as a};
